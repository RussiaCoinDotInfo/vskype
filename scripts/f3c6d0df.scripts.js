"use strict";angular.module("vskypeApp",["ngCookies","ngResource","ngSanitize","ngRoute","firebase"]).config(["$routeProvider","$httpProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/:crypto_code/:currency_code",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]).value("firebaseUrl","https://vskype.firebaseio.com/");var vskype=angular.module("vskypeApp");vskype.factory("convert",["$firebase","firebaseUrl","$routeParams","$timeout",function(a,b,c,d){var e={};return e.fb=a(new Firebase(b)),e.tag_btc=a(new Firebase(b+"tag_btc")),e.btc_usd=a(new Firebase(b+"btc_usd")),e.usd_currency=a(new Firebase(b+"usd_currency")),e.currencies=a(new Firebase(b+"currencies")),e.currency_code=c.currency_code?c.currency_code:"USD",e.crypto_code=c.crypto_code?c.crypto_code:"TAG",e.onLoadConvertion=function(a){if(a=a?a:1,c.currency_code)var b=c.currency_code;else var b="USD";if(c.crypto_code)var d=c.crypto_code;else var d="TAG";e.convertTagcoin(a,d,b)},e.convertTagcoin=function(c,f,g){console.log(f),e.currate=a(new Firebase(b+"usd_currency/"+g)),e.currate.$on("loaded",function(){if($("#loading").addClass("animated fadeOut"),$("#loading").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).hide()}),e.currency_code=g,e.crypto_code=f,c&&(e.tag=c),"TAG"==f){var a=c*e.tag_btc.price,b=a*e.btc_usd.price,d=b*e.currate.rate;e.convertedTag=d}else if("BTC"==f){var d=c*e.btc_usd.price*e.currate.rate;e.convertedTag=d}e.currency=isNaN(e.convertedTag)?"":Number(e.convertedTag).toFixed(2)}),d(function(){e.convertTagcoin(e.tag,e.crypto_code,e.currency_code)},1e4)},e}]),vskype.controller("MainCtrl",["$scope","convert","$timeout",function(a,b){a.convert=b}]);